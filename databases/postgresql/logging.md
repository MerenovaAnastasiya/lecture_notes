# Журналирование

## Буферный кеш

Параметр **shared_buffers** определяет пространство, который используется для кеширования.
Онно представляет собой массив буфферов, в каждый из которых можно записать страницу данных + заголовок со служебной информацией.

Для работы с буферным кешем используется хеш-таблица, ключами в ней являются адреса страниц на диске, а значение - номер страницы в буферном кеше.
Размер буферного кеша по умолчанию - 128мб

Чтобы обеспечить конкурентный доступ к данным в буферным кешем, используются блокировки хеш-таблицы, 
которая в свою очередь разделена на фрагменты, позволяющие блокировать только часть хеш-таблицы. В настояще время кол-во фрагментов = 128.

Пока изменения существуют только в буферном кеше, но еще не записаны на диск, они считаются "грязными".

## Временные таблицы

Временные таблицы создаются в рамках сеанса и существуют не дольше, чем существует сам сеанс.
Временные таблицы нет смысла размещать в разделяемом буферном кеше, тк кроме текущего процесса никто другой
их все равно никогда не увидит, поэтому для работы с временными таблицами используется локальный буферный кеш.




