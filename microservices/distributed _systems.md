## Распределенная транзакция

Список атомарных операций в гетерогенной среде(разные СУБД) или между разными сервисами. Локальная транзакция в отличие от распределенной использует одну СУБД.

## CAP теорема


## Теорема Фишера-Линча-Патерсона (FLP)

https://neerc.ifmo.ru/wiki/index.php?title=%D0%A2%D0%B5%D0%BE%D1%80%D0%B5%D0%BC%D0%B0_%D0%A4%D0%B8%D1%88%D0%B5%D1%80%D0%B0-%D0%9B%D0%B8%D0%BD%D1%87%D0%B0-%D0%9F%D0%B0%D1%82%D0%B5%D1%80%D1%81%D0%BE%D0%BD%D0%B0_(FLP)


## Проблема двух генералов



##  Двухфазный коммит(2PC two-phase commit)

Состоит из 2-х этапов:
- Этап 1: координатор спрашгивает у всех участников, готовы ли они гарантированно завершить транзакцию? Если хотя бы один участник отвечат "нет", транзакция откатится.
Участник отвечает "да" только в том случае, если даже при падении он сможет при восстановлении закоммитить данные(например, она все уже в журнале предзаписи)
- Этап 2: координатор закрепляет решение(делает commit или rollback) и записывает его в свою надежную память, после чего рассылает всем решение.
После рассылки можно сообщить о фиксации транзакции, подтверждение от участников при этом не требуется.
Описание: https://neerc.ifmo.ru/wiki/index.php?title=2_Phase_Commit
  
## shared db (антипаттерн)


## Паттерн Сага





